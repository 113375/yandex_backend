# yandex_backend
ip сервера для работы с rest-api: **178.154.213.93**

### POST _/couriers_. **url: http://178.154.213.93:8080/couriers**
>Добавляет **курьеров** в базу данных, принимает на вход **json** 
>>{"**data**": [<br> {
>"**courier_id**": (id курьера), <br>
>"**courier_type**": (название типа), <br>
>"**regions**": (список районов: **[1, 2, 3, ..]**), <br>
>"**working_hours**": (список времени работы курьера "h:m-h:m")}<br>
**...**, <br>**...** <br>]}
>### Ответ сервера
>#### При успешном (201): <br>
>>{
>>"**couriers**": (id добавленных курьеров)]
}
>#### При ошибке (400): <br>
>>{"**validation_error**": { <br>
>>"**couriers**": (Список id курьеров, с которыми произошла ошибка) <br>
>}
}
---
### PATCH  _/couriers/$courier_id_ **url: http://178.154.213.93:8080/orders/$courier_id**
>Изменяет сведения о курьере, принимает на вход **json**, в котором те ключи, в которых должны произойти изменения
>>{
>"**courier_type**": (название типа), <br>
>"**regions**": (список районов: **[1, 2, 3, ..]**), <br>
>"**working_hours**": (список времени работы курьера "**h:m-h:m**")<br>}
>### Ответ сервера
>#### При успешном (200): <br>
>При успешном выполнении возвращается вся информация о данном курьере
>>{
>>"**courier_id**": (id курьера), <br>
>>"**courier_type**": (Тип курьера), <br>
>>"**regions**": (Районы курьера: **[1, 2, 3, ..]**), <br>
>>"**working_hours**": (Время работы курьера)
>>}
>#### При ошибке (400): <br> 
>>{"**error**": (Описание ошибки)}
---
### POST _/orders_ **url: http://178.154.213.93:8080/orders**
>Добавляет **посылку(order)**, принимает на вход **json** 
>>{"**data**": [<br> {
>"**order_id**": (id посылки(order)), <br>
>"**weight**": (вес (тип данных: **float**), <br>
>"**region**": (список районов: **[1, 2, 3, ..]**), <br>
>"**delivery_hours**": (список времени доставки "h:m-h:m")},<br>
**...**, <br>**...** <br>
]}
>### Ответ сервера
>#### При успешном (201): <br>
>>{
>>"**orders**": (id добавленных заказов)]
}
>#### При ошибке (400): <br>
>>{"**validation_error**": { <br>
>>"**orders**": (Список id посылок, с которыми произошла ошибка) <br>
>}
}

---
### POST _/orders/assign_ **url: http://178.154.213.93:8080/orders/assign**
>Назначает заказы курьеру, указаному в json, принимает на вход **json**
>>{
>"**courier_id**": (id курьера) <br>}
>### Ответ сервера
>#### При успешном (200): <br>
>>{
>>"orders": (список id посылок, которые подошли курьеру), <br>
>>"**"assign_time":**": (Время принятия партии посылок, формат: "%Y-%m-%dT%H:%M:%S"), <br>
>>}
>#### При ошибке (400): <br> 
>>{"**error**": (Описание ошибки)}

---
### POST _/orders/complete_ **url: http://178.154.213.93:8080/orders/complete**
>Обозначает заказ выполненным с временем доставки, указаному в json, принимает на вход **json**
>>{
>"**courier_id**": (id курьера),
>"**order_id**": (id посылки), 
>"**complete_time**": (Время доставки посылки, формат: "%Y-%m-%dT%H:%M:%S") <br>}
>### Ответ сервера
>#### При успешном (200): <br>
>>{
>>"order_id": (Возвращается ошибка )}
>#### При ошибке (400): <br> 
>>{"**error**": (Описание ошибки)}
